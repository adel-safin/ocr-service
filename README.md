# OCR Document Processing Service

–°–µ—Ä–≤–∏—Å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º OCR (Vision Framework), –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –æ—à–∏–±–æ–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –∏ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **OCR —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Vision Framework
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **–í—ã–¥–µ–ª–µ–Ω–∏–µ –æ–±–ª–∞—Å—Ç–µ–π** —Å –ø–æ–≤—ã—à–µ–Ω–Ω—ã–º DPI (900) –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —É—á–∞—Å—Ç–∫–æ–≤
- **–ê–≤—Ç–æ–∫–æ—Ä—Ä–µ–∫—Ü–∏—è** –æ—à–∏–±–æ–∫ OCR (–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –∑–∞–º–µ–Ω–∞ 0‚Üí–æ/–û, 8‚Üí–≤/–í)
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π** (–ò–ù–ù, –°–ù–ò–õ–°, –û–ì–†–ù, –¥–∞—Ç—ã, –Ω–æ–º–µ—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)
- **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** (ML –º–æ–¥–µ–ª—å)
- **–ê–∫—Ç–∏–≤–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ** –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
- **–ú–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** PDF –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–°–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ —Ç—Ä–∏ —Ñ–∞–∑—ã:

### –§–∞–∑–∞ 1: –ë–∞–∑–æ–≤—ã–π OCR + –ø—Ä–∞–≤–∏–ª–∞

- **OCR Engine**: Vision Framework
- **–ê–≤—Ç–æ–∫–æ—Ä—Ä–µ–∫—Ü–∏—è**: –ü—Ä–∞–≤–∏–ª–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª–µ–π (–ò–ù–ù, –°–ù–ò–õ–°, –û–ì–†–ù –∏ –¥—Ä.)
- **–ö–∞—á–µ—Å—Ç–≤–æ**: –î–µ—Ç–µ–∫—Ü–∏—è –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π (—Ä—É–∫–æ–ø–∏—Å–Ω—ã–π —Ç–µ–∫—Å—Ç, –Ω–∞–ª–æ–∂–µ–Ω–∏—è)
- **–ú–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ—Å—Ç—å**: –ü–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ PDF

### –§–∞–∑–∞ 2: –ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ

- **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**: CNN (ResNet18) –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ø–µ—á–∞—Ç–æ–∫**: Transformer –º–æ–¥–µ–ª—å (RuT5) - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
- **ML –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞**: –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
- **–û–±—É—á–µ–Ω–∏–µ**: –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –Ω–∞ –¥–∞—Ç–∞—Å–µ—Ç–µ

### –§–∞–∑–∞ 3: –ê–∫—Ç–∏–≤–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ

- **Feedback loop**: –°–±–æ—Ä –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- **–ê–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤**: –í—ã—è–≤–ª–µ–Ω–∏–µ —á–∞—Å—Ç—ã—Ö –æ—à–∏–±–æ–∫
- **–ê–¥–∞–ø—Ç–∞—Ü–∏—è**: –ü–æ–¥—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥ –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

```bash
cd app
python3 -m venv venv
source venv/bin/activate  # macOS/Linux
# –∏–ª–∏
venv\Scripts\activate  # Windows
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip install -r requirements.txt
```

**–í–∞–∂–Ω–æ**: –î–ª—è —Ä–∞–±–æ—Ç—ã Vision Framework —Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ `pyobjc-framework-Vision`:

```bash
pip install pyobjc-framework-Vision
```

### Docker —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
cd app
docker-compose up -d
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞

```bash
cd app
python run.py
```

–ò–ª–∏ —á–µ—Ä–µ–∑ uvicorn:

```bash
cd app
uvicorn api.main:app --reload --host 0.0.0.0 --port 8000
```

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:

- **API**: http://localhost:8000
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: http://localhost:8000
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API**: http://localhost:8000/docs

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8000 –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç (PDF, JPG, PNG, BMP)
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞
4. –£–∫–∞–∂–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
5. **–í—ã–¥–µ–ª–∏—Ç–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–ª–∞—Å—Ç–∏** –Ω–∞ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –í—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å DPI 900 –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞
6. –ù–∞–∂–º–∏—Ç–µ "–û–±—Ä–∞–±–æ—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç"
7. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
   - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –∫–∞—á–µ—Å—Ç–≤–µ
   - –í—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ (DPI 900)
   - –ü–æ–ª–Ω—ã–π —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç

### API Endpoints

#### 1. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞

```bash
curl -X POST "http://localhost:8000/api/v1/process" \
  -F "file=@document.pdf" \
  -F "template=act_aosr" \
  -F "required_fields=ogrn,inn,date" \
  -F "selected_areas=[{\"x1\":100,\"y1\":200,\"x2\":500,\"y2\":300}]"
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `file` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): –§–∞–π–ª –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
- `template` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞
- `required_fields` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –°–ø–∏—Å–æ–∫ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
- `selected_areas` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): JSON –º–∞—Å—Å–∏–≤ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π `[{"x1": int, "y1": int, "x2": int, "y2": int}]`

#### 2. –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

```bash
curl -X POST "http://localhost:8000/api/v1/batch_process" \
  -F "files=@doc1.pdf" \
  -F "files=@doc2.pdf" \
  -F "template=act_aosr"
```

#### 3. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```bash
curl -X POST "http://localhost:8000/api/v1/confirm_correction" \
  -H "Content-Type: application/json" \
  -d '{
    "original": "–ú–∞—Ä–∫—É—Ç–∞–ª—å",
    "corrected": "–ú–∞—Ä–∏—É–ø–æ–ª—å",
    "add_to_db": true
  }'
```

#### 4. –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–∑—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

```bash
curl "http://localhost:8000/api/v1/corrections_db"
```

#### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è

```bash
curl "http://localhost:8000/api/v1/health"
```

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

- **PDF** (–º–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–µ, –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞)
- **JPG/JPEG**
- **PNG**
- **BMP**

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–æ–ª—è

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –∏ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç:

- **–û–ì–†–ù** (13 –∏–ª–∏ 15 —Ü–∏—Ñ—Ä)
- **–ò–ù–ù** (10 –∏–ª–∏ 12 —Ü–∏—Ñ—Ä)
- **–ö–ü–ü** (9 —Ü–∏—Ñ—Ä)
- **–°–ù–ò–õ–°** (—Ñ–æ—Ä–º–∞—Ç XXX-XXX-XXX XX)
- **–î–∞—Ç–∞** (—Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã)
- **–ù–æ–º–µ—Ä —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –ï–ê–≠–°**
- **–¢–µ–ª–µ—Ñ–æ–Ω** (—Ä–æ—Å—Å–∏–π—Å–∫–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã)
- **Email**
- **–ù–æ–º–µ—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** (—Å —Å–∏–º–≤–æ–ª–æ–º ‚Ññ)
- **–§–∞–º–∏–ª–∏–∏** (—Ä—É—Å—Å–∫–∏–µ)

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –í—ã–¥–µ–ª–µ–Ω–∏–µ –æ–±–ª–∞—Å—Ç–µ–π —Å –ø–æ–≤—ã—à–µ–Ω–Ω—ã–º DPI

–ü—Ä–∏ –≤—ã–¥–µ–ª–µ–Ω–∏–∏ –æ–±–ª–∞—Å—Ç–∏ –Ω–∞ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–µ:

- –û–±–ª–∞—Å—Ç—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Å **DPI 900** (–≤–º–µ—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ 300)
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –≤ –±–ª–æ–∫–µ "–í—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏"

### –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –∞–≤—Ç–æ–∫–æ—Ä—Ä–µ–∫—Ü–∏—è

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç —á–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ OCR:

- `0` ‚Üí `–æ` (–≤ —Ä—É—Å—Å–∫–∏—Ö —Å–ª–æ–≤–∞—Ö, —Å —É—á–µ—Ç–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞)
- `8` ‚Üí `–≤` (–≤ —Ä—É—Å—Å–∫–∏—Ö —Å–ª–æ–≤–∞—Ö, —Å —É—á–µ—Ç–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞)
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —á–∏—Å–ª–∞ –≤ –¥–∞—Ç–∞—Ö –∏ –Ω–æ–º–µ—Ä–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, "2023", "8 –º–∞—Ä—Ç–∞")

### –ú–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

PDF –¥–æ–∫—É–º–µ–Ω—Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ:

- –ö–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –¢–µ–∫—Å—Ç –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç—Å—è —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç:

- –ù–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –û–±–ª–∞—Å—Ç–∏ —Å –≤–æ–∑–º–æ–∂–Ω—ã–º —Ä—É–∫–æ–ø–∏—Å–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º
- –¢–µ–∫—Å—Ç —Å –Ω–∞–ª–æ–∂–µ–Ω–∏—è–º–∏/—à—Ç–∞–º–ø–∞–º–∏
- –¢–æ—á–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –ø–æ–ª—è

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `core/validators.py` –∏ –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –≤ `FieldValidator.PATTERNS`:

```python
PATTERNS = {
    'new_field': re.compile(r'...'),
    # ...
}
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–º–µ–Ω—ã

1. **–ß–µ—Ä–µ–∑ API**:

```bash
curl -X POST "http://localhost:8000/api/v1/confirm_correction" \
  -H "Content-Type: application/json" \
  -d '{"original": "–æ—à–∏–±–∫–∞", "corrected": "–ø—Ä–∞–≤–∏–ª—å–Ω–æ", "add_to_db": true}'
```

2. **–í—Ä—É—á–Ω—É—é**: –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `data/corrections.json`

### –û–±—É—á–µ–Ω–∏–µ ML –º–æ–¥–µ–ª–µ–π

1. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –¥–∞—Ç–∞—Å–µ—Ç
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ:

```bash
cd app
python scripts/train_all_ml.py
```

3. –ú–æ–¥–µ–ª–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `app/models/checkpoints/`

### –ê–∫—Ç–∏–≤–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ. –î–ª—è –∞–Ω–∞–ª–∏–∑–∞:

```bash
cd app
python scripts/analyze_feedback.py
```

## –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

```bash
cd app
python scripts/process_single_file.py /path/to/file.pdf
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

```bash
cd app
python scripts/process_certificates_all_phases.py
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–∑

```bash
cd app
python scripts/test_phase1.py
python scripts/test_phase2.py
python scripts/test_phase3.py
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `config/settings.py`:

- `OCR_DPI`: –ë–∞–∑–æ–≤—ã–π DPI –¥–ª—è OCR (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 300)
- `SELECTED_AREA_DPI`: DPI –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 900)
- `USE_ML`: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ML –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é True)
- `USE_ACTIVE_LEARNING`: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–∫—Ç–∏–≤–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é True)

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Vision Framework –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `pyobjc-framework-Vision`:

```bash
pip install pyobjc-framework-Vision
```

### –û—à–∏–±–∫–∏ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ PDF

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `poppler`:

```bash
# macOS
brew install poppler
```

### –ü–ª–æ—Ö–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–≤—ã–¥–µ–ª–µ–Ω–∏–µ –æ–±–ª–∞—Å—Ç–µ–π** —Å DPI 900 –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —É—á–∞—Å—Ç–∫–æ–≤
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
